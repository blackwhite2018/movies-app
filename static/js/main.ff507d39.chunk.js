(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{112:function(e,t,a){e.exports=a(204)},126:function(e,t,a){},127:function(e,t,a){},157:function(e,t,a){},175:function(e,t,a){},204:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),s=a(12),i=a(66),u=a(83),o=a(20),l=a.n(o),p=a(40),m=a(23),f=a(85),v=a.n(f),b=a(208),d=a(207),h=a(209),g=a(98),_=a(210),j=a(33),O=(a(126),function(e){var t=e.searchData,a=Object(r.useState)(""),s=Object(m.a)(a,2),i=s[0],u=s[1];Object(r.useEffect)((function(){n=Object(j.a)(t,700)}),[]);return c.a.createElement("input",{type:"search",className:"search-input navbar__search-input",placeholder:"Type to search...",value:i,onChange:function(e){var t=e.target;u(t.value),n(t.value)}})}),E=function(e){var t=e.message;return c.a.createElement("div",null,t)},y=(a(56),a(82),a(213)),w=function(){return c.a.createElement(y.a,{message:"Error Text",description:"Error Description Error Description Error Description Error Description",type:"error",closable:!0})},k=a(58),x="https://api.themoviedb.org/3/",N="e9f559802c673e3e74a73543bc0c8382",S=(a(174),a(175),b.a.TabPane),C=["Search","Rated"],T=Object(r.lazy)((function(){return Promise.resolve().then(a.bind(null,82))})),D=function(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),n=t[0],s=t[1],o=Object(r.useState)("1"),f=Object(m.a)(o,2),y=f[0],D=f[1],P=Object(r.useState)([]),M=Object(m.a)(P,2),R=M[0],z=M[1],J=Object(r.useState)(1),A=Object(m.a)(J,2),I=A[0],q=A[1],B=Object(r.useState)(10),H=Object(m.a)(B,2),K=H[0],U=H[1],V=Object(r.useState)(""),F=Object(m.a)(V,2),G=F[0],L=F[1],Q=Object(r.useState)([]),W=Object(m.a)(Q,2),X=W[0],Y=W[1],Z=Object(r.useState)(""),$=Object(m.a)(Z,2),ee=$[0],te=$[1],ae=function(){var e=Object(p.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.b)("".concat(x,"authentication/guest_session/new?api_key=").concat(N));case 2:if(t=e.sent){e.next=6;break}return s(!0),e.abrupt("return");case 6:if(a=t.success,n=t.guest_session_id,a)try{localStorage.setItem("uuid_session",n),te(n)}catch(r){s(!0)}case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(e){z(e.splice(10*(I-1),10).reduce((function(e,t){var a=Object(u.a)({id:v.a.generate()},t);return Object(g.a)(new Date(t.release_date))?a.release_date=Object(_.a)(new Date(t.release_date),"MMMM dd, yyyy"):a.release_date="",[].concat(Object(i.a)(e),[a])}),[]))},re=function(){var e=Object(p.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.b)("".concat(x,"search/movie?api_key=").concat(N,"&query=").concat(t,"&page=").concat(I));case 2:if(!1!==(null===(a=e.sent)||void 0===a?void 0:a.success)){e.next=6;break}return s(!0),e.abrupt("return");case 6:a?(n=a.results)&&(U(n.length),ne(n)):s(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.b)("".concat(x,"genre/movie/list?api_key=").concat(N));case 2:(t=e.sent)&&Y(t.genres);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(p.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===y){e.next=12;break}return D(t),e.next=4,Object(j.b)("".concat(x,"guest_session/").concat(ee,"/rated/movies?api_key=").concat(N,"&language=en-US&sort_by=created_at.asc"));case 4:a=e.sent,e.t0=t,e.next="1"===e.t0?8:"2"===e.t0?10:12;break;case 8:return re(G),e.abrupt("break",12);case 10:return a&&(n=a.results,ne(n)),e.abrupt("break",12);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){ae(),ce()}),[]),Object(r.useEffect)((function(){T=Object(r.lazy)((function(){return Promise.resolve().then(a.bind(null,82))}))}),[R]),Object(r.useEffect)((function(){re(G)}),[I]),n?c.a.createElement(w,null):c.a.createElement("div",{className:"page"},c.a.createElement("div",{className:"wrapper"},c.a.createElement("div",{className:"navbar"},c.a.createElement("div",{className:"navbar-wrapper"},c.a.createElement(b.a,{defaultActiveKey:y,centered:!0,onChange:se},C.map((function(e,t){return c.a.createElement(S,{tab:e,key:t+1})}))),c.a.createElement(O,{searchData:function(e){""===e?z([]):re(e),L(e)}}))),0===R.length?c.a.createElement(E,{message:"No movies found"}):c.a.createElement(r.Suspense,{fallback:c.a.createElement(d.a,null)},c.a.createElement(k.a.Provider,{value:X},c.a.createElement(T,{items:R,activeTab:y,handleChangeRate:function(e,t){fetch("".concat(x,"movie/").concat(e,"/rating?api_key=").concat(N,"&guest_session_id=").concat(ee),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({value:t})})}}))),c.a.createElement(h.a,{defaultCurrent:I,defaultPageSize:K,onChange:function(e,t){I!==e&&q(e)},size:"small",total:K})))};Object(s.render)(c.a.createElement(c.a.StrictMode,null,c.a.createElement(D,null)),document.getElementById("root"))},33:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return o}));var n=a(20),r=a.n(n),c=a(40),s=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),i=a(66),u=function(e,t){if(0===e.length)return"";var a=0,n=e.split(" ").reduce((function(e,n){return n.length+a<=t&&(a+=n.length,e.push(n)),Object(i.a)(e)}),[]);return"".concat(n.join(" "),"...")},o=function(e,t){var a;return function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];clearTimeout(a),a=setTimeout((function(){a=null,e.apply(void 0,r)}),t)}}},56:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(212),s=a(211),i=a(58),u=a(33);a(127),t.a=function(e){var t,a=e.id,o=e.data,l=o.original_title,p=o.release_date,m=o.vote_average,f=o.overview,v=o.genre_ids,b=o.poster_path,d=e.handleChangeRate,h=e.activeTab,g=Object(n.useContext)(i.a),_="rating".concat((t=m)>=0&&t<3?" rating-color-1":t>=3&&t<5?" rating-color-2":t>=5&&t<7?" rating-color-3":t>=7?" rating-color-4":""),j=b?"http://image.tmdb.org/t/p/w440_and_h660_face/".concat(b):"".concat("/movies-app","/img/img.jpg");return r.a.createElement("div",{className:"list-item"},r.a.createElement("img",{src:j,alt:"The way back",className:"poster list-item__poster"}),r.a.createElement("div",{className:"list-item__container"},r.a.createElement("div",{className:"list-item__meta"},r.a.createElement("h5",{className:"list-item__header"},l),r.a.createElement("time",{className:"list-item__date"},p),r.a.createElement("div",{className:"list-genre list-item__list-genre"},v.map((function(e){return g[e]&&r.a.createElement(c.a,{key:e},g[e].name)}))),r.a.createElement("div",{className:_},m)),r.a.createElement("p",{className:"list-item__description"},Object(u.c)(f,120)),r.a.createElement(s.a,{onChange:function(e){d(a,e)},count:10,allowHalf:!0,defaultValue:"1"===h?0:m})))}},58:function(e,t,a){"use strict";var n=a(0),r=Object(n.createContext)([]);t.a=r},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(56);a(157),t.default=function(e){var t=e.activeTab,a=e.items,n=e.handleChangeRate;return r.a.createElement("div",{className:"list wrapper__list"},a.map((function(e){var a=e.id,s=e.original_title,i=e.release_date,u=e.vote_average,o=e.overview,l=e.genre_ids,p=e.poster_path;return r.a.createElement(c.a,{key:a,id:a,activeTab:t,data:{original_title:s,release_date:i,vote_average:u,overview:o,genre_ids:l,poster_path:p},handleChangeRate:n})})))}}},[[112,1,2]]]);
//# sourceMappingURL=main.ff507d39.chunk.js.map