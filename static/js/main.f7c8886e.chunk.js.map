{"version":3,"sources":["Helpers/Function/fetchData.ts","components/ListItem/index.ts","components/ListItem/ListItem.tsx","Helpers/Function/strSliceMaxLen.ts","components/List/index.ts","components/List/List.tsx","components/Search/index.ts","components/Search/Search.tsx","Helpers/Function/debounce.ts","components/App/App.tsx","components/App/index.ts","index.tsx"],"names":["url","a","fetch","response","json","results","console","error","message","ListItem","data","original_title","release_date","vote_average","overview","className","src","process","alt","strOrigin","nbr","length","res","split","reduce","acc","str","push","join","strSliceMaxLen","count","allowHalf","defaultValue","List","items","map","id","key","Search","searchData","useState","value","setValue","debounceFn","fn","ms","timerID","args","clearTimeout","setTimeout","debounce","type","placeholder","onChange","evt","target","onKeyUp","keyCode","TabPane","Tabs","navbar","App","activeTab","films","setFilms","loadData","fetchData","slice","item","shortid","generate","format","Date","useEffect","defaultActiveKey","centered","log","index","tab","size","total","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f7c8886e.chunk.js","sourcesContent":["import FilmItem from '../../components/interface/FilmItem';\n\nexport default async (url: string): Promise<Array<FilmItem> | null> => {\n  try {\n    const response = await fetch(url);\n    const json = await response.json();\n    return json.results;\n  } catch (e) {\n    console.error(e.message);\n    return null;\n  }\n};\n","import ListItem from './ListItem';\n\nexport default ListItem;\n","import React from 'react';\nimport { Tag, Rate } from 'antd';\n\nimport { strSliceMaxLen } from '../../Helpers';\nimport './index.css';\n\nexport default ({ data: { original_title, release_date, vote_average, overview } }: any) => (\n  <div className=\"list-item\">\n    <img src={`${process.env.PUBLIC_URL}/img/img.jpg`} alt=\"The way back\" className=\"poster list-item__poster\" />\n    <div className=\"list-item__container\">\n      <div className=\"list-item__meta\">\n        <h5 className=\"list-item__header\">{original_title}</h5>\n        <time className=\"list-item__date\">{release_date}</time>\n        <div className=\"list-genre list-item__list-genre\">\n          <Tag>Action</Tag>\n          <Tag>Drama</Tag>\n        </div>\n        <div className=\"rating\">{vote_average}</div>\n      </div>\n      <p className=\"list-item__description\">{strSliceMaxLen(overview, 120)}</p>\n      <Rate count={10} allowHalf defaultValue={vote_average} />\n    </div>\n  </div>\n);\n","export default (strOrigin: string, nbr: number): string => {\n  let length: number = 0;\n  const arr: Array<string> = strOrigin.split(' ');\n  const res: Array<string> = arr.reduce((acc: Array<string>, str: string): Array<string> => {\n    if (str.length + length <= nbr) {\n      length += str.length;\n      acc.push(str);\n    }\n    return [...acc];\n  }, []);\n  return `${res.join(' ')}...`;\n};\n","import List from './List';\n\nexport default List;\n","import React from 'react';\n\nimport ListItem from '../ListItem';\nimport FilmItem from '../interface/FilmItem';\nimport './index.css';\n\nexport default ({ items }: any) => (\n  <div className=\"list wrapper__list\">\n    {items.map(({ id, original_title, release_date, vote_average, overview }: FilmItem) => (\n      <ListItem\n        key={id}\n        data={{\n          original_title,\n          release_date,\n          vote_average,\n          overview,\n        }}\n      />\n    ))}\n  </div>\n);\n","import Search from './Search';\n\nexport default Search;\n","import React, { useState } from 'react';\n\nimport { debounce } from '../../Helpers';\nimport SearchDataType from '../interface/SearchDataType';\nimport './index.css';\n\nexport default ({ searchData }: SearchDataType): JSX.Element => {\n  const [value, setValue] = useState<string>('');\n  const debounceFn: Function = debounce(searchData, 700);\n\n  const handleChange = (evt: React.ChangeEvent<HTMLInputElement>): void => {\n    const target = evt.target as HTMLInputElement;\n    setValue(target.value);\n  };\n\n  const handleSearchData = (evt: React.KeyboardEvent<HTMLInputElement>): void => {\n    const target = evt.target as HTMLInputElement;\n    if (evt.keyCode === 13) {\n      debounceFn(target.value);\n      setValue('');\n    }\n  };\n\n  return (\n    <input\n      type=\"search\"\n      className=\"search-input navbar__search-input\"\n      placeholder=\"Type to search...\"\n      value={value}\n      onChange={handleChange}\n      onKeyUp={handleSearchData}\n    />\n  );\n};\n","export default (fn: Function, ms: number): Function => {\n  let timerID: any;\n  return (...args: Array<any>) => {\n    clearTimeout(timerID);\n    timerID = setTimeout(() => {\n      timerID = null;\n      fn(...args);\n    }, ms);\n  };\n};\n","import React, { useState, useEffect } from 'react';\nimport shortid from 'shortid';\nimport { Tabs, Pagination } from 'antd';\nimport 'antd/dist/antd.css';\nimport { format } from 'date-fns';\n\nimport { fetchData } from '../../Helpers';\nimport FilmItem from '../interface/FilmItem';\nimport List from '../List';\nimport SearchInput from '../Search';\nimport './index.css';\n\nconst { TabPane } = Tabs;\n\nconst navbar: Array<string> = ['Search', 'Rated'];\n\nconst App: React.FC = () => {\n  const [activeTab, setTabs] = useState<string>('1');\n  const [films, setFilms] = useState<Array<FilmItem>>([]);\n\n  const handleTabs = (key: string) => {\n    console.log(key);\n  };\n\n  const loadData = async (value: string): Promise<void> => {\n    const data: Array<FilmItem> | null = await fetchData(\n      `https://api.themoviedb.org/3/search/movie?api_key=e9f559802c673e3e74a73543bc0c8382&query=${value}`\n    );\n    if (data) {\n      setFilms(\n        data.slice(0, 20).reduce(\n          (acc: Array<FilmItem>, item: FilmItem): Array<FilmItem> => [\n            ...acc,\n            {\n              id: shortid.generate(),\n              ...item,\n              release_date: format(new Date(item.release_date), 'MMMM dd, yyyy'),\n            },\n          ],\n          []\n        )\n      );\n    }\n  };\n\n  useEffect(() => {\n    loadData('return');\n  }, []);\n\n  const searchData = (value: string): void => {\n    console.log(value);\n\n    loadData(value);\n  };\n\n  return (\n    <div className=\"page\">\n      <div className=\"wrapper\">\n        <div className=\"navbar\">\n          <div className=\"navbar-wrapper\">\n            <Tabs defaultActiveKey={activeTab} centered onChange={handleTabs}>\n              {navbar.map((item: string, index: number) => (\n                <TabPane tab={item} key={shortid.generate()} />\n              ))}\n            </Tabs>\n            <SearchInput searchData={searchData} />\n          </div>\n        </div>\n        <List items={films} />\n        <Pagination size=\"small\" total={50} />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import App from './App';\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport App from './components/App';\n\nrender(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}