(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[2],{107:function(e,t,n){e.exports=n(195)},122:function(e,t,n){},166:function(e,t,n){},195:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),u=n(60),s=n(77),o=n(22),i=n.n(o),l=n(43),f=n(20),p=n(79),b=n.n(p),v=n(199),m=n(198),d=n(200),h=(n(121),n(91)),j=n(201),O=n(36),g=(n(122),function(e){var t=e.searchData,n=Object(a.useState)(""),c=Object(f.a)(n,2),u=c[0],s=c[1],o=Object(O.a)(t,700);return r.a.createElement("input",{type:"search",className:"search-input navbar__search-input",placeholder:"Type to search...",value:u,onChange:function(e){var t=e.target;s(t.value),o(t.value)}})}),y=n(202),E=function(){return r.a.createElement(y.a,{message:"Error Text",description:"Error Description Error Description Error Description Error Description",type:"error",closable:!0})},_=function(e){var t=e.message;return r.a.createElement("div",null,t)},k=n(72),x="https://api.themoviedb.org/3/",S="e9f559802c673e3e74a73543bc0c8382",w=(n(166),v.a.TabPane),D=["Search","Rated"],C=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,211))})),N=function(){var e=Object(a.useState)(!1),t=Object(f.a)(e,2),c=t[0],o=t[1],p=Object(a.useState)("1"),y=Object(f.a)(p,2),N=y[0],T=y[1],P=Object(a.useState)([]),M=Object(f.a)(P,2),z=M[0],J=M[1],A=Object(a.useState)(1),I=Object(f.a)(A,2),R=I[0],q=I[1],B=Object(a.useState)(10),K=Object(f.a)(B,2),U=K[0],F=(K[1],Object(a.useState)("return")),G=Object(f.a)(F,2),H=G[0],L=G[1],Q=Object(a.useState)([]),V=Object(f.a)(Q,2),W=V[0],X=V[1],Y=Object(a.useState)(""),Z=Object(f.a)(Y,2),$=Z[0],ee=Z[1],te=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.b)("".concat(x,"authentication/guest_session/new?api_key=").concat(S));case 2:if(t=e.sent){e.next=6;break}return o(!0),e.abrupt("return");case 6:if(n=t.success,a=t.guest_session_id,n)try{localStorage.setItem("uuid_session",a),ee(a)}catch(r){o(!0)}case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(e){J(e.splice((R-1)*U,U).reduce((function(e,t){var n=Object(s.a)({id:b.a.generate()},t);return Object(h.a)(new Date(t.release_date))?n.release_date=Object(j.a)(new Date(t.release_date),"MMMM dd, yyyy"):n.release_date="",[].concat(Object(u.a)(e),[n])}),[]))},ae=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.b)("".concat(x,"search/movie?api_key=").concat(S,"&query=").concat(t,"&page=").concat(R));case 2:return n=e.sent,e.next=5,Object(O.b)("".concat(x,"genre/movie/list?api_key=").concat(S));case 5:if(a=e.sent,!1!==(null===n||void 0===n?void 0:n.success)){e.next=9;break}return o(!0),e.abrupt("return");case 9:a&&X(a.genres),n?(r=n.results,ne(r)):o(!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===N){e.next=12;break}return T(t),e.next=4,Object(O.b)("".concat(x,"guest_session/").concat($,"/rated/movies?api_key=").concat(S,"&language=en-US&sort_by=created_at.asc"));case 4:n=e.sent,e.t0=t,e.next="1"===e.t0?8:"2"===e.t0?10:12;break;case 8:return ae(H),e.abrupt("break",12);case 10:return n&&(a=n.results,ne(a)),e.abrupt("break",12);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ae(H),te()}),[]),Object(a.useEffect)((function(){C=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,211))}))}),[z]),Object(a.useEffect)((function(){ae(H)}),[R]);if(c)return r.a.createElement(E,null);return r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"navbar-wrapper"},r.a.createElement(v.a,{defaultActiveKey:N,centered:!0,onChange:re},D.map((function(e,t){return r.a.createElement(w,{tab:e,key:t+1})}))),r.a.createElement(g,{searchData:function(e){ae(e),L(e)}}))),0===z.length?r.a.createElement(_,{message:"No movies found"}):r.a.createElement(a.Suspense,{fallback:r.a.createElement(m.a,null)},r.a.createElement(k.a.Provider,{value:W},r.a.createElement(C,{items:z,handleChangeRate:function(e,t){fetch("".concat(x,"movie/").concat(e,"/rating?api_key=").concat(S,"&guest_session_id=").concat($),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({value:t})})}}))),r.a.createElement(d.a,{defaultCurrent:R,defaultPageSize:U,onChange:function(e,t){R!==e&&q(e)},size:"small",total:50})))};Object(c.render)(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root"))},36:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(22),r=n.n(a),c=n(43),u=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),s=n(60),o=function(e,t){if(0===e.length)return"";var n=0,a=e.split(" ").reduce((function(e,a){return a.length+n<=t&&(n+=a.length,e.push(a)),Object(s.a)(e)}),[]);return"".concat(a.join(" "),"...")},i=function(e,t){var n;return function(){for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];clearTimeout(n),n=setTimeout((function(){n=null,e.apply(void 0,r)}),t)}}},72:function(e,t,n){"use strict";var a=n(0),r=Object(a.createContext)([]);t.a=r}},[[107,3,4]]]);
//# sourceMappingURL=main.65acd857.chunk.js.map